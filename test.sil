field f:Int

predicate pred(r:Ref) {
    acc(r.f) && r.f == 0
}

/*
method test01(x: Ref)
  requires acc(pred(x))
  ensures acc(pred(x))
{
  unfold pred(x)
  x.f := 3
  fold pred(x)
}*/

method test02(r: Ref, xs: Seq[Ref])
  requires forall x:Ref :: x in xs ==> acc(pred(x))
  requires acc(pred(r))
  //ensures forall x:Ref :: x in xs ==> acc(pred(x))
{
  //unfold pred(x)
  //x.f := 3
  //fold pred(x)
}

/*
method test03(r: Ref, xs: Seq[Ref])
  requires forall x:Ref :: x in xs ==> acc(x.f)
  ensures forall x:Ref :: x in xs ==> acc(x.f)
{}*/